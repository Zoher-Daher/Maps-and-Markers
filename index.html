<!DOCTYPE html>
<html>
  <head>
    <title>Add Map</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <h3>My Google Maps Demo</h3>
    <!--The div element for the map -->
    <div id="map"></div>
    <button onclick="showMarkers();">Show Existing markers</button>
    <button onclick="hideMarkers();">Hide Existing markers</button>
    <button onclick="removeMarkers();">Remove Existing markers</button>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=USE_YOUR_KEY"
    ></script>

    <script>
        //Set map options
        var mapOptions = {
          center: {lat:51.5,lng:-0.1},
          zoom:7,
          mapTypeId:google.maps.MapTypeId.SATELLITE
        }
      
        //creating map object
        const map = new google.maps.Map(document.getElementById("map"),mapOptions);

        //setting the maptypeid upon construction
        map.setMapTypeId(google.maps.MapTypeId.ROADMAP);

        //create marker1
        var marker1Options = {
          position:{lat:51.5,lng:-0.1},
          map: map,
          title : "This is London",
          draggable: true,
          animation: google.maps.Animation.DROP
        };

        const marker1 = new google.maps.Marker(marker1Options);

        var infoWindow = new google.maps.InfoWindow({
            content:"<div>This is an info window</div>",
            maxWidth:100
        });

        marker1.addListener("click",function(){
          infoWindow.open(map,marker1);
        });
        //create marker2
        var marker2Options = {
          position:{lat:52.1337,lng:-0.4577},
          map: map,
          title : "This is Benford",
          draggable: true,
          animation: google.maps.Animation.BOUNCE
        };

        const marker2 = new google.maps.Marker(marker2Options);
        
        //create an array where we store our markers
        var markers = [];

        //create marker once we click on a point on the map
        map.addListener("click",function(event){

          var markerOptions = {
            position:event.latLng,
          };
          var marker = new google.maps.Marker(markerOptions);
          //store the marker in the array
          markers.push(marker);
        });
      
        //show markers stored in the array
        function addMarkerWithDelay(i){
          setTimeout(function(){
              markers[i].setMap(map);
              markers[i].setAnimation(google.maps.Animation.DROP);
            },200*i);
        }//add marker with delay

        function showMarkers(){
          for(var i = 0; i<markers.length; i++){
            addMarkerWithDelay(i);
          }
        }

        //hide existing markers 
        function hideMarkers(){
          for(var i = 0; i<markers.length; i++){
            markers[i].setMap(null);
          }
        }
        //remove markers
        function removeMarkers(){
          hideMarkers();
          markers = [];
        }
    </script>
  </body>
</html>